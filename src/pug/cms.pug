doctype html
html
    head 
        title Jelmer Halff - CMS
        link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css", integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65", crossorigin="anonymous")
        style 
            include ../../public/compiled/style.css

    body
        div.cms
            div.fluid-container.full-height
                div.row.full-height
                    div.col-2.sidebar
                        include cms/sidebar.pug
                    div.col-10.content
                        div.loading#loading-screen
                            div.icon
                                div
                                div
                                div
                                div
                        - if (page.includes("dashboard"))
                            include cms/dashboard.pug
                        - if (page.includes("projects")) 
                            include cms/projects.pug

        script
            include ../js/cms-modal-controller.js
            include ../js/cms-crud.js
        
        script.
            let page = JSON.parse(`!{JSON.stringify(page)}`)

            window.addEventListener("load", () => {
                const activeMenulink = document.getElementById(`link-${page}`)
                activeMenulink.classList.add("active")
                
                const loadingScreen = document.getElementById("loading-screen")
                loadingScreen.style.display = "none"
            })